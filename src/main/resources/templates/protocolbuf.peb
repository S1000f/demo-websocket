<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="/webjars/jquery/dist/jquery.min.js"></script>
  <script src="/webjars/sockjs-client/sockjs.min.js"></script>
  <script src="/webjars/stomp-websocket/stomp.min.js"></script>
</head>
<body>
  <button id="connect" type="button">connect</button>
  <br />
  <button id="send" type="button">send</button>
<script>
  let ws;
  function connect() {
    ws = new WebSocket('ws://localhost:8080/bin');

    ws.onopen = function () {
      console.log("connected");
    };

    ws.onmessage = function (data) {
      console.log(data.data);
    };
  }

  function send() {
    let token = "token:12345";
    let uint8array = new TextEncoder("utf-8").encode(token);
    console.log(uint8array);

    ws.send(uint8array);
  }

  $(function () {
    $("#connect").click(function() {
      connect();
    });

    $("#send").click(function() {
      send();
    });

  });
</script>
</body>
</html>